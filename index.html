<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta charSet="utf-8"/><title class="jsx-1283858754">Satisfying Codes</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/lajjcx-pVvelJo_yWokTu/pages/index.js" as="script"/><link rel="preload" href="/_next/static/lajjcx-pVvelJo_yWokTu/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-035ac2b14bde147cb4a8.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.24222f8ed78db974628a.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-7bf692ff4ee9865e1f42.js" as="script"/><style id="__jsx-2574410693">body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Avenir Next,Avenir, Helvetica,sans-serif;}nav.jsx-2574410693{text-align:center;}ul.jsx-2574410693{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}nav.jsx-2574410693>ul.jsx-2574410693{padding:4px 16px;margin:0;box-shadow:0 4px 12px 0 rgba(0,0,0,0.05);}li.jsx-2574410693{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:6px 8px;}a.jsx-2574410693{color:#067df7;-webkit-text-decoration:none;text-decoration:none;font-size:13px;}</style><style id="__jsx-1283858754">@import url('https://fonts.googleapis.com/css?family=PT+Serif&display=swap');body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh;}pre{background:rgba(0,0,0,0.05);padding:20px;overflow-x:auto;}.text-outer.jsx-1283858754{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.text-inner.jsx-1283858754{max-width:680px;width:100%;min-width:0;font-family:'PT Serif',Georgia,Cambria,"Times New Roman",Times,serif;-webkit-letter-spacing:-0.004em;-moz-letter-spacing:-0.004em;-ms-letter-spacing:-0.004em;letter-spacing:-0.004em;line-height:1.58;color:rgba(0,0,0,0.84);font-style:normal;font-weight:400;margin:0;margin-top:2em;margin-bottom:-0.46em;font-size:21px;}.hero.jsx-1283858754{width:100%;color:#333;}.title.jsx-1283858754{margin:0;width:100%;padding-top:80px;line-height:1.15;font-size:48px;}.title.jsx-1283858754,.description.jsx-1283858754{text-align:center;}.row.jsx-1283858754{max-width:880px;margin:80px auto 40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}.card.jsx-1283858754{padding:18px 18px 24px;width:220px;text-align:left;-webkit-text-decoration:none;text-decoration:none;color:#434343;border:1px solid #9b9b9b;}.card.jsx-1283858754:hover{border-color:#067df7;}.card.jsx-1283858754 h3.jsx-1283858754{margin:0;color:#067df7;font-size:18px;}.card.jsx-1283858754 p.jsx-1283858754{margin:0;padding:12px 0 0;font-size:13px;color:#333;}</style></head><body><div id="__next"><div class="jsx-1283858754"><nav class="jsx-2574410693"><ul class="jsx-2574410693"><li class="jsx-2574410693"><svg width="35" height="35" class="jsx-2574410693"></svg></li></ul></nav><div class="jsx-1283858754 text-outer"><div class="jsx-1283858754 text-inner"><h3>How to run static React on Github.io with Next.js</h3><h5>Dec 11, 2019</h5><p>Lets build a blog using <a href="https://nextjs.org/">Next.js</a> and host it on the free <a href="https://pages.github.com/">Github pages</a>.</p><p>Github pages are awesome because they are free and fast.
Next.js is awesome because it easily gives us all the modern web development features like React, Babel, Webpack, hot-code reloading, and routing.
Your site will be super fast and developing it will be very satifying. </p><h4>Setup Next.js</h4><p>So, lets setup Next.js to generate a set of static assets that we can host on Github.</p><p>Setup the boilerplate project:</p><pre><code>cd your-blog-name
npm install react react-dom next
mkdir pages</code></pre><p>Now, lets map the Next.js scripts to npm comands, to avoid messing with node_module paths:</p><pre><code>// package.json
&quot;scripts&quot;: {
    &quot;dev&quot;: &quot;next&quot;,
    &quot;build&quot;: &quot;next build&quot;,
    &quot;start&quot;: &quot;next start&quot;
}</code></pre><p>now we can run a local next develompent server:</p><pre><code>npm run dev</code></pre><p>Check <a href="http://localhost:3000">http://localhost:3000</a> now, you should see the auto-generated site. 
Any code changes will be hot loaded into your browser, making for a very satisfying dev time.</p><h4>Enable Isomorphic React</h4><p>Next lets enable <a href="https://nextjs.org/docs#serverless-deployment">serverless deployment</a>. 
This will tell Next.js to generate static files.</p><pre><code>// next.config.js
module.exports = {
  target: &#x27;serverless&#x27;
}</code></pre><p>Now we can summon the compiling pixies:</p><pre><code>npm run build</code></pre><p>Technically, static output is available even without setting up serverless deployment. 
However this aproach is not very clean, since the output path changes on every compilation.</p><p>Its better to go the right way and find the static build output under </p><pre><code>ls .next/server/static/</code></pre><h4>Deploy to Github</h4><p>We can now deploy our site to github pages.
Create a new github repository, making sure the repo name matches the format &quot;username.github.io&quot;.</p><p>Clone this repo locally.</p><pre><code>cd
git clone git@github.com:username/username.github.io.git</code></pre><p>Create a symlink to the github page folder inside the next.js project.</p><pre><code>cd your-blog-name
ln -s ../username.github.io prod</code></pre><p>Now lets add a command to deploy our site:</p><pre><code>// package.json
&quot;scripts&quot;: { 
    &quot;dev&quot;: &quot;next dev&quot;,
    &quot;build&quot;: &quot;next build&quot;,
    &quot;start&quot;: &quot;next start&quot;,
    &quot;deploy&quot;: &quot;yes | cp -R .next/serverless/pages/* prod/&quot; 
  },</code></pre><p>Now we can deploy our site with</p><pre><code>npm run deploy</code></pre><p>After wich we can go into the prod directory, do a final check, and git push our site to github pages.</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/","query":{},"buildId":"lajjcx-pVvelJo_yWokTu","nextExport":true,"autoExport":true}</script><script async="" data-next-page="/" src="/_next/static/lajjcx-pVvelJo_yWokTu/pages/index.js"></script><script async="" data-next-page="/_app" src="/_next/static/lajjcx-pVvelJo_yWokTu/pages/_app.js"></script><script src="/_next/static/runtime/webpack-035ac2b14bde147cb4a8.js" async=""></script><script src="/_next/static/chunks/commons.24222f8ed78db974628a.js" async=""></script><script src="/_next/static/runtime/main-7bf692ff4ee9865e1f42.js" async=""></script></body></html>