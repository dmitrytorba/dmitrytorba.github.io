<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta charSet="utf-8"/><title class="jsx-2391186365">Space View</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/tPsOznL1FTuwJUxnoNnKD/pages/space-view.js" as="script"/><link rel="preload" href="/_next/static/tPsOznL1FTuwJUxnoNnKD/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-035ac2b14bde147cb4a8.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.353e3d314fbb3ca36baf.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-6e6e334c1a3c61df2d4f.js" as="script"/><style id="__jsx-2806418347">@import url('https://fonts.googleapis.com/css?family=PT+Serif&display=swap');body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Avenir Next,Avenir, Helvetica,sans-serif;}nav{text-align:center;background:white;}ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}nav>ul{margin:0;box-shadow:0 4px 12px 0 rgba(0,0,0,0.05);}@media only screen and (max-width:400px){nav>ul{padding:8px 16px;}}@media only screen and (min-width:401px) and (max-width:960px){nav>ul{padding:8px 32px;}}@media only screen and (min-width:961px){nav>ul{padding:8px 64px;}}li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:6px 8px;}a{color:#067df7;-webkit-text-decoration:none;text-decoration:none;}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh;}pre{background:rgba(0,0,0,0.05);padding:20px;overflow-x:auto;}.text-outer{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:15px;}.text-inner{max-width:680px;width:100%;min-width:0;font-family:'PT Serif',Georgia,Cambria,"Times New Roman",Times,serif;-webkit-letter-spacing:-0.004em;-moz-letter-spacing:-0.004em;-ms-letter-spacing:-0.004em;letter-spacing:-0.004em;color:rgba(0,0,0,0.84);font-style:normal;font-weight:400;margin-top:2em;margin-bottom:-0.46em;background:white;padding:0 20px;}@media only screen and (max-width:400px){.text-inner{margin:0 24px;line-height:1.4;font-size:18px;}}@media only screen and (min-width:401px) and (max-width:960px){.text-inner{margin:0 48px;line-height:1.4;font-size:18px;}}@media only screen and (min-width:961px){.text-inner{margin:0;line-height:1.6;font-size:21px;}}</style><style id="__jsx-2391186365">body{background-color:black;overflow-x:hidden;}#crop.jsx-2391186365{width:5424px;height:5375px;overflow:hidden;position:absolute;top:0;z-index:-1;-webkit-animation-name:moveIt-jsx-2391186365;animation-name:moveIt-jsx-2391186365;-webkit-animation-duration:1000s;animation-duration:1000s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;}@-webkit-keyframes moveIt-jsx-2391186365{0%{-webkit-transform:translateX(-70%) translateY(-10%);-ms-transform:translateX(-70%) translateY(-10%);transform:translateX(-70%) translateY(-10%);}25%{-webkit-transform:translateX(-0%) translateY(-10%);-ms-transform:translateX(-0%) translateY(-10%);transform:translateX(-0%) translateY(-10%);}50%{-webkit-transform:translateX(-60%) translateY(-80%);-ms-transform:translateX(-60%) translateY(-80%);transform:translateX(-60%) translateY(-80%);}75%{-webkit-transform:translateX(-0%) translateY(-50%);-ms-transform:translateX(-0%) translateY(-50%);transform:translateX(-0%) translateY(-50%);}100%{-webkit-transform:translateX(-70%) translateY(-10%);-ms-transform:translateX(-70%) translateY(-10%);transform:translateX(-70%) translateY(-10%);}}@keyframes moveIt-jsx-2391186365{0%{-webkit-transform:translateX(-70%) translateY(-10%);-ms-transform:translateX(-70%) translateY(-10%);transform:translateX(-70%) translateY(-10%);}25%{-webkit-transform:translateX(-0%) translateY(-10%);-ms-transform:translateX(-0%) translateY(-10%);transform:translateX(-0%) translateY(-10%);}50%{-webkit-transform:translateX(-60%) translateY(-80%);-ms-transform:translateX(-60%) translateY(-80%);transform:translateX(-60%) translateY(-80%);}75%{-webkit-transform:translateX(-0%) translateY(-50%);-ms-transform:translateX(-0%) translateY(-50%);transform:translateX(-0%) translateY(-50%);}100%{-webkit-transform:translateX(-70%) translateY(-10%);-ms-transform:translateX(-70%) translateY(-10%);transform:translateX(-70%) translateY(-10%);}}</style></head><body><div id="__next"><div class="jsx-2391186365"><nav class="jsx-2806418347"><ul class="jsx-2806418347"><li class="jsx-2806418347"><img src="/static/tree_logo.png" width="35" height="35" class="jsx-2806418347"/></li></ul></nav><div class="jsx-2391186365 text-outer"><div class="jsx-2391186365 text-inner"><h3>Live space view with CSS</h3><h5>May 23, 2020</h5><p>I&#x27;ve been really enjoying the Android <a href="http://www.revimage.org/pixel-live-earth-wallpaper/">live earth wallpaper</a> ever since it came out. Something about floating above our planet is just deeply beautiful and primordialy calming, for whatever reason.</p><p>As you can see in the background, we are weightless somewhere above the pacific ocean hemisphere. This image is live, so you should see either day or night, depending on when you loaded this page.  You can also reload the page to get a more up to date image. </p><p>OK, lets see how to add this wonderful view using plain old CSS.  </p><p>The image is a 20-minute-ago snapshot from the <a href="https://en.wikipedia.org/wiki/GOES-17">GEOS 17</a> satellite 22,200 mi above our planet.  This is a weather satellite with a geostational orbit, which means it only has one static view of earth.  The images are publically availible since 2018 at the <a href="https://www.star.nesdis.noaa.gov/GOES/fulldisk.php?sat=G17">NOAA site</a>. </p><p>There are quite a few cameras availible, but lets stick with the realistic <a href="https://www.star.nesdis.noaa.gov/GOES/fulldisk_band.php?sat=G17&amp;band=GEOCOLOR&amp;length=12">GeoColor</a> photo. After choosing a resolution we can get the URL of the image.  </p><p>The image URLs have a mysterious timestamp text as part of their name. I spent a lot of time reverese engineering this date format so I could generate the latest image URL in javascript. However, I then stumbled upon an image that doesnt have any timestamps and simply refers to the latest view.    </p><pre><code>https://cdn.star.nesdis.noaa.gov/GOES17/ABI/FD/GEOCOLOR/5424x5424.jpg</code></pre><p>Great, wish I knew that earlier. Oh well, lets load it up.</p><pre><code>&lt;img src=&quot;https://cdn.star.nesdis.noaa.gov/GOES17/ABI/FD/GEOCOLOR/5424x5424.jpg&quot;&gt;&lt;/img&gt;</code></pre><p>Cool, we are getting somewhere. There are two problems. First, there&#x27;s a banner of text on the bottom that will savagely stop our illusion of being in space. Lets add a <code>div</code> around to get a crop effect.</p><pre><code>&lt;div id=&quot;crop&quot;&gt;
  &lt;img src=&quot;https://cdn.star.nesdis.noaa.gov/GOES17/ABI/FD/GEOCOLOR/5424x5424.jpg&quot;&gt;&lt;/img&gt;
&lt;/div&gt;</code></pre><p>Add some css to set the height to be 49 pixels less than the image.</p><pre><code>#crop {
  width: 5424px;
  height: 5375px;
  overflow: hidden;
}</code></pre><p>Next lets add some movement, to simulate that sweet floating effect. There are several ways to do it.
We will want to use <a href="https://www.w3schools.com/cssref/css3_pr_animation-keyframes.asp">CSS keyframes</a> for sure. One way is to ditch the <code>img</code> tag and apply the photo as a <code>div</code> background:</p><pre><code>#crop {
  animation-name: moveIt;
  animation-duration: 1000s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  background-image: &quot;https://cdn.star.nesdis.noaa.gov/GOES17/ABI/FD/GEOCOLOR/5424x5424.jpg&quot;;
}

@keyframes moveIt {
  from {background-position: top right;}
  to {background-position: top left;}
}</code></pre><p>OK, we are moving now, sort of.  The movement is nausiatingly jagged and your computer should get lava-hot pretty soon.  This is because using <code>background-position</code> causes the animation to be performed on the CPU. Lucky for us, we can trigger GPU processing by simply switching back to <code>img</code> and applying a <code>transform</code>:</p><pre><code>#crop {
  animation-name: moveIt;
  animation-duration: 1000s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

@keyframes moveIt {
  0% {
    transform: translateX(-70%) translateY(-10%); 
  }
  25% { 
     transform: translateX(-0%) translateY(-10%); 
  }
  50% { 
     transform: translateX(-60%) translateY(-80%);   
  }
  75% { 
     transform: translateX(-0%) translateY(-50%); 
  }
  100% {
    transform: translateX(-70%) translateY(-10%); 
  }
}</code></pre><p>Ah yes, much more satisfying.  </p></div></div><div id="crop" class="jsx-2391186365"><img id="bg" src="https://cdn.star.nesdis.noaa.gov/GOES17/ABI/FD/GEOCOLOR/5424x5424.jpg" class="jsx-2391186365"/></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/space-view","query":{},"buildId":"tPsOznL1FTuwJUxnoNnKD","nextExport":true,"autoExport":true}</script><script async="" data-next-page="/space-view" src="/_next/static/tPsOznL1FTuwJUxnoNnKD/pages/space-view.js"></script><script async="" data-next-page="/_app" src="/_next/static/tPsOznL1FTuwJUxnoNnKD/pages/_app.js"></script><script src="/_next/static/runtime/webpack-035ac2b14bde147cb4a8.js" async=""></script><script src="/_next/static/chunks/commons.353e3d314fbb3ca36baf.js" async=""></script><script src="/_next/static/runtime/main-6e6e334c1a3c61df2d4f.js" async=""></script></body></html>