<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta charSet="utf-8"/><title>Static React</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/7JlkovzPB--okbly0lGTF/pages/static-react.js" as="script"/><link rel="preload" href="/_next/static/7JlkovzPB--okbly0lGTF/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-035ac2b14bde147cb4a8.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.047cf0e6459dee820e9b.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-6e6e334c1a3c61df2d4f.js" as="script"/><style id="__jsx-2637137393">@import url('https://fonts.googleapis.com/css?family=PT+Serif&display=swap');body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Avenir Next,Avenir, Helvetica,sans-serif;}nav{text-align:center;background:white;}ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}nav>ul{margin:0;box-shadow:0 4px 12px 0 rgba(0,0,0,0.05);}@media only screen and (max-width:400px){nav>ul{padding:8px 16px;}}@media only screen and (min-width:401px) and (max-width:960px){nav>ul{padding:8px 32px;}}@media only screen and (min-width:961px){nav>ul{padding:8px 64px;}}li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:6px 8px;}a{color:#067df7;-webkit-text-decoration:none;text-decoration:none;}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh;}pre{background:rgba(0,0,0,0.05);padding:20px;overflow-x:auto;}.text-outer{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:15px;}.text-inner{max-width:680px;width:100%;min-width:0;font-family:'PT Serif',Georgia,Cambria,"Times New Roman",Times,serif;-webkit-letter-spacing:-0.004em;-moz-letter-spacing:-0.004em;-ms-letter-spacing:-0.004em;letter-spacing:-0.004em;color:rgba(0,0,0,0.84);font-style:normal;font-weight:400;margin-top:2em;margin-bottom:-0.46em;background:white;padding:0 20px;}@media only screen and (max-width:400px){.text-inner{margin:0 24px;line-height:1.4;font-size:18px;}}@media only screen and (min-width:401px) and (max-width:960px){.text-inner{margin:0 48px;line-height:1.4;font-size:18px;}}@media only screen and (min-width:961px){.text-inner{margin:0;line-height:1.6;font-size:21px;}}</style></head><body><div id="__next"><div><nav class="jsx-2637137393"><ul class="jsx-2637137393"><li class="jsx-2637137393"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button" aria-label="menu"><span class="MuiIconButton-label"><img src="/static/tree_logo.png" width="35" height="35" class="jsx-2637137393"/></span></button></li></ul></nav><div class="text-outer"><div class="text-inner"><h3>How to run static React on Github.io with Next.js</h3><h5>Dec 11, 2019</h5><p>Lets build a blog using <a href="https://nextjs.org/">Next.js</a> and host it on the free <a href="https://pages.github.com/">Github pages</a>.</p><p>Github pages are awesome because they are free and fast.
Next.js is awesome because it easily gives us all the modern web development features like React, Babel, Webpack, hot-code reloading, and routing.
Your site will be super fast and developing it will be very satifying. </p><h4>Setup Next.js</h4><p>So, lets setup Next.js to generate a set of static assets that we can host on Github.</p><p>Setup the boilerplate project:</p><pre><code>cd your-blog-name
npm install react react-dom next
mkdir pages</code></pre><p>Now, lets map the Next.js scripts to npm comands, to avoid messing with node_module paths:</p><pre><code>// package.json
&quot;scripts&quot;: {
    &quot;dev&quot;: &quot;next&quot;,
    &quot;build&quot;: &quot;next build&quot;,
    &quot;start&quot;: &quot;next start&quot;
}</code></pre><p>now we can run a local next develompent server:</p><pre><code>npm run dev</code></pre><p>Check <a href="http://localhost:3000">http://localhost:3000</a> now, you should see the auto-generated site. 
Any code changes will be hot loaded into your browser, making for a very satisfying dev time.</p><h4>Enable Isomorphic React</h4><p>Next lets enable <a href="https://nextjs.org/docs#serverless-deployment">serverless deployment</a>. 
This will tell Next.js to generate static files.</p><pre><code>// next.config.js
module.exports = {
  target: &#x27;serverless&#x27;
}</code></pre><p>Now we can summon the compiling pixies:</p><pre><code>npm run build</code></pre><p>Technically, static output is available even without setting up serverless deployment. 
However this aproach is not very clean, since the output path changes on every compilation.</p><p>Its better to go the right way and find the static build output under </p><pre><code>ls .next/server/static/</code></pre><h4>Deploy to Github</h4><p>We can now deploy our site to github pages.
Create a new github repository, making sure the repo name matches the format &quot;username.github.io&quot;.</p><p>Clone this repo locally.</p><pre><code>cd
git clone git@github.com:username/username.github.io.git</code></pre><p>Create a symlink to the github page folder inside the next.js project.</p><pre><code>cd your-blog-name
ln -s ../username.github.io prod</code></pre><p>Now lets add a command to deploy our site:</p><pre><code>// package.json
&quot;scripts&quot;: { 
    &quot;dev&quot;: &quot;next dev&quot;,
    &quot;build&quot;: &quot;next build&quot;,
    &quot;start&quot;: &quot;next start&quot;,
    &quot;deploy&quot;: &quot;yes | cp -R .next/serverless/pages/* prod/&quot; 
  },</code></pre><p>Now we can deploy our site with</p><pre><code>npm run deploy</code></pre><p>After wich we can go into the prod directory, do a final check, and git push our site to github pages.</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/static-react","query":{},"buildId":"7JlkovzPB--okbly0lGTF","nextExport":true,"autoExport":true}</script><script async="" data-next-page="/static-react" src="/_next/static/7JlkovzPB--okbly0lGTF/pages/static-react.js"></script><script async="" data-next-page="/_app" src="/_next/static/7JlkovzPB--okbly0lGTF/pages/_app.js"></script><script src="/_next/static/runtime/webpack-035ac2b14bde147cb4a8.js" async=""></script><script src="/_next/static/chunks/commons.047cf0e6459dee820e9b.js" async=""></script><script src="/_next/static/runtime/main-6e6e334c1a3c61df2d4f.js" async=""></script></body></html>